import{r as n,a as t}from"./assets/refs-bdc3d310.js";import{k as l}from"./assets/firebase-api-19f50676.js";import"./assets/vendor-451a0b16.js";n.loginForm.addEventListener("submit",u);n.loginInput.addEventListener("input",()=>{n.loginInput.classList.remove("login-input-required")});async function u(r){if(r.preventDefault(),!n.loginInput.value){t("Please, entrer a token","#"),n.loginInput.classList.add("login-input-required");return}try{n.loginBtn.innerHTML='<div class="lds-ring"><div></div><div></div><div></div><div></div></div>';const s=await l(),a=n.loginInput.value;let e=!1,o;for(let i of s)if(i.token===a){e=!0,o=i;break}if(!e)n.loginInput.classList.add("login-input-required"),t("Wrong token","#");else{n.loginInput.classList.remove("login-input-required"),localStorage.setItem("log",JSON.stringify({...o,logIn:Date.now()}));const i=location.pathname.split("/");location.pathname=`/${i[1]}`}}catch{t("Oops, something went wrong! Please, try again","#")}finally{n.loginBtn.innerHTML="Log in"}}
//# sourceMappingURL=commonHelpers3.js.map
