{"version":3,"file":"commonHelpers4.js","sources":["../src/js/render-processes-list.js","../src/js/render-processes-steps-list.js","../src/js/render-total-list.js","../src/js/process-sw.js"],"sourcesContent":["export function renderProcessesList(data) {\n  return data\n    .map(\n      el =>\n        `<li class=\"process-item\">\n                <p class=\"process-item-name\">\n                  ${el.name}\n                </p>\n              </li>`\n    )\n    .join('');\n}\n","import { refs } from './refs';\nimport { convertMs } from './utilites';\n\nexport const renderProcessesStepsList = data => {\n  const render = data\n    .map(\n      el => `\n    <li class=\"process-list-item\">\n    <div>\n    <div class=\"step-time-item\">\n        <div>\n          <p class=\"step\">Step ${el.step}</p>\n          <p class=\"time\">${convertMs(el.time).minutes}:${\n        convertMs(el.time).secunds\n      },${convertMs(el.time).milisecunds}</p>\n        </div>\n    </div>\n    <div class=\"step-description\">\n      <div class=\"step-task\">\n        <p>${el.task}</p>\n      </div>\n    </div>\n    </div>\n    </li>\n  `\n    )\n    .join('');\n\n  refs.stepsList.innerHTML = render;\n};\n","import { convertMs } from './utilites';\n\nexport function renderTotalList(data) {\n  return data\n    .map(\n      el =>\n        `\n    <li class=\"total-list-item\">\n          <p class=\"total-list-title\">${el.process}</p>\n          <ul class=\"total-list-tasks\">\n            ${el.items\n              .map(\n                e => `\n                <li class=\"total-list-tasks-item\">\n              <div class=\"total-task\">\n                <p class=\"total-list-tasks-step\">${e.step}.</p>\n                <p class=\"total-list-tasks-task\">${e.task}</p>\n              </div>\n              <p class=\"total-list-tasks-time\">\n                ${convertMs(e.time).minutes}:${convertMs(e.time).secunds},${\n                  convertMs(e.time).milisecunds\n                }\n              </p>\n            </li>\n            `\n              )\n              .join('')}\n          </ul>\n          <button id=\"${\n            el.id\n          }\" type=\"button\" class=\"total-list-item-delete\">Delete</button>\n        </li>\n    `\n    )\n    .join('');\n}\n","import { refs } from './refs';\nimport * as FirebaseApi from './firebase-api';\nimport { renderProcessesList } from './render-processes-list';\nimport { renderProcessesStepsList } from './render-processes-steps-list';\nimport { renderTotalList } from './render-total-list';\nimport {\n  checkLogin,\n  debounce,\n  disableBtn,\n  enableBtn,\n  getName,\n  getProcess,\n  onBack,\n  onErrorToast,\n} from './utilites';\nimport editIcon from '../img/edit.svg';\nimport { renderWatch } from './watch';\nimport { nanoid } from 'nanoid';\n\nlet timerInterval;\nconst listPosition = refs.sectionList.getBoundingClientRect().top;\n\nif (!localStorage.getItem('processes')) {\n  localStorage.setItem('processes', '[]');\n}\n\nif (!localStorage.getItem('allProcesses')) {\n  localStorage.setItem('allProcesses', '[]');\n}\n\ncheckLogin();\ncheckProcess();\n\ndocument.addEventListener('click', onProcessInputFocus);\nrefs.backBtn.addEventListener('click', onBack);\nrefs.processInput.addEventListener('focus', onProcessInputFocus);\nrefs.processInput.addEventListener('input', () =>\n  debounce(filterProcesses, 500)\n);\nrefs.processList.addEventListener('click', onChooseProcessItem);\nrefs.taskForm.addEventListener('submit', onSaveTask);\nrefs.startBtn.addEventListener('click', onStart);\nrefs.lapBtn.addEventListener('click', onNewStep);\nrefs.stopBtn.addEventListener('click', onStop);\nrefs.sendBtn.addEventListener('click', onSave);\nrefs.showListBtn.addEventListener('click', onShowList);\ndocument.querySelector('.send-btn-wrap').addEventListener('click', onSend);\nwindow.addEventListener('scroll', showSaveBtn);\n\nif (refs.deleteTotalBtn[0]) {\n  refs.totalList.addEventListener('click', onDeleteTotalItem);\n}\n\nrefs.navName.innerHTML = JSON.parse(localStorage.getItem('log')).user;\n\nasync function onProcessInputFocus() {\n  const data = await FirebaseApi.getProcesses();\n  refs.processList.innerHTML = renderProcessesList(data);\n\n  if (refs.processInput === document.activeElement) {\n    refs.taskForm.style.overflow = 'visible';\n    refs.processList.classList.remove('visually-hidden');\n  } else {\n    refs.taskForm.style.overflow = 'hidden';\n    refs.processList.classList.add('visually-hidden');\n  }\n}\n\nfunction onChooseProcessItem(e) {\n  const processName = e.target.textContent.trim();\n  refs.processInput.value = processName;\n}\n\nasync function filterProcesses() {\n  const val = refs.processInput.value;\n  const data = await FirebaseApi.getProcesses();\n\n  const filteredItems = data.filter(el =>\n    el.name.toLowerCase().includes(val.toLowerCase())\n  );\n\n  const render = renderProcessesList(filteredItems);\n  refs.processList.innerHTML = render;\n}\n\nasync function onSaveTask(e) {\n  e.preventDefault();\n  const val = refs.processInput.value;\n  const data = await FirebaseApi.getProcesses();\n\n  const process = data.find(el => el.name === val);\n\n  if (process) {\n    localStorage.setItem('process', JSON.stringify(process));\n  } else {\n    onErrorToast('Please, choose a process from list.', '#');\n  }\n  enableBtn(refs.startBtn);\n\n  checkProcess();\n}\n\nfunction showSaveBtn() {\n  const windowScrollHeight = window.scrollY;\n\n  if (refs.processesSaveBtn && windowScrollHeight >= 200) {\n    refs.processesSaveBtn.classList.remove('button-hidden');\n  } else {\n    refs.processesSaveBtn.classList.add('button-hidden');\n  }\n}\n\nfunction checkProcess() {\n  const process = JSON.parse(localStorage.getItem('process'));\n  const savedProcesses = JSON.parse(localStorage.getItem('processes'));\n  const allProcesses = JSON.parse(localStorage.getItem('allProcesses'));\n  renderProcessesStepsList(savedProcesses);\n\n  if (allProcesses.length <= 0) {\n    refs.totalList.innerHTML = `<p class=\"empty-message\">List is empty</p>`;\n    refs.sendBtnWrap.innerHTML = ``;\n    document.querySelector('.total-quantity').classList.add('visually-hidden');\n    document.querySelector('.total-quantity-number').innerHTML = 0;\n  } else {\n    refs.totalList.innerHTML = renderTotalList(allProcesses);\n    refs.sendBtnWrap.innerHTML = `<button class=\"send-total-btn active-btn\">Send</button>`;\n    document\n      .querySelector('.total-quantity')\n      .classList.remove('visually-hidden');\n    document.querySelector('.total-quantity-number').innerHTML =\n      allProcesses.length;\n  }\n\n  if (!process) {\n    clearInterval(timerInterval);\n    refs.taskForm.classList.remove('task-form-hidden');\n    disableBtn(refs.startBtn);\n    disableBtn(refs.lapBtn);\n    disableBtn(refs.stopBtn);\n    refs.username.innerHTML = `Hi ${getName()},`;\n    refs.taskFormDescription.innerHTML = `Before you begin, please enter the name of the task in the box below and click on the \"Save\" button.`;\n    return;\n  }\n\n  refs.editWrap.innerHTML = `<button type=\"button\" class=\"edit-btn\"><img class=\"edit-icon\" src=\"${editIcon}\"/></button>`;\n\n  document.querySelector('.edit-btn').disabled = true;\n  document.querySelector('.edit-btn').style.visibility = 'hidden';\n\n  if (process.startDate && !timerInterval) {\n    timerInterval = setInterval(() => {\n      const currentTime = Date.now() - process.startDate;\n      renderWatch(currentTime);\n    }, 10);\n\n    disableBtn(refs.startBtn);\n    enableBtn(refs.lapBtn);\n    enableBtn(refs.stopBtn);\n  } else if (!process.startDate) {\n    disableBtn(refs.lapBtn);\n    disableBtn(refs.stopBtn);\n    enableBtn(refs.startBtn);\n    document.querySelector('.edit-btn').disabled = false;\n    document.querySelector('.edit-btn').style.visibility = 'visible';\n  }\n\n  refs.taskForm.classList.add('task-form-hidden');\n  refs.username.innerHTML = `Great ${getName()}!`;\n  refs.taskFormDescription.innerHTML = `The process you'll be timing is \"${\n    getProcess().name\n  }\".`;\n  document.querySelector('.edit-btn').addEventListener('click', onEdit);\n  document\n    .querySelector('.list-btns-processes')\n    .classList.remove('btns-list-visible');\n\n  if (savedProcesses.length >= process.steps.length) {\n    clearInterval(timerInterval);\n\n    const process = JSON.parse(localStorage.getItem('process'));\n\n    delete process.startDate;\n    localStorage.setItem('process', JSON.stringify(process));\n\n    document\n      .querySelector('.list-btns-processes')\n      .classList.add('btns-list-visible');\n\n    disableBtn(refs.startBtn);\n    disableBtn(refs.lapBtn);\n    enableBtn(refs.stopBtn);\n  }\n}\n\nfunction onEdit() {\n  localStorage.removeItem('process');\n  document.querySelector('.edit-btn').remove();\n  localStorage.setItem('processes', '[]');\n  checkProcess();\n}\n\nfunction onStart() {\n  const process = JSON.parse(localStorage.getItem('process'));\n\n  if (!process) {\n    refs.taskInput.classList.add('task-input-required');\n    onErrorToast('Please, enter the task', '#task');\n    return;\n  }\n\n  const startDate = Date.now();\n  process.startDate = startDate;\n  localStorage.setItem('process', JSON.stringify(process));\n\n  checkProcess();\n}\n\nfunction onNewStep() {\n  const process = JSON.parse(localStorage.getItem('process'));\n  const savedProcesses = JSON.parse(localStorage.getItem('processes'));\n  const log = JSON.parse(localStorage.getItem('log'));\n\n  refs.watch.classList.add('push-watch');\n  setTimeout(() => {\n    refs.watch.classList.remove('push-watch');\n  }, 200);\n\n  const currentTime = Date.now();\n\n  const stepIndex = savedProcesses.length;\n  const time =\n    savedProcesses.length > 0\n      ? currentTime - savedProcesses[stepIndex - 1].currentTime\n      : currentTime - process.startDate;\n\n  const item = {\n    id: nanoid(),\n    step: stepIndex + 1,\n    user: log.user,\n    time: time,\n    currentTime: currentTime,\n    process: process.name,\n    task: process.steps[stepIndex],\n  };\n\n  savedProcesses.push(item);\n  localStorage.setItem('processes', JSON.stringify(savedProcesses));\n\n  checkProcess();\n}\n\nfunction onStop() {\n  const process = JSON.parse(localStorage.getItem('process'));\n\n  delete process.startDate;\n  localStorage.setItem('process', JSON.stringify(process));\n  clearInterval(timerInterval);\n  timerInterval = null;\n\n  localStorage.setItem('processes', '[]');\n\n  renderWatch(0);\n  checkProcess();\n}\n\nfunction onSave() {\n  const processes = JSON.parse(localStorage.getItem('processes'));\n  const allProcesses = JSON.parse(localStorage.getItem('allProcesses'));\n\n  const item = {\n    id: nanoid(),\n    type: 'process-stop-watch',\n    process: processes[0].process,\n    items: processes,\n  };\n\n  allProcesses.push(item);\n\n  localStorage.setItem('allProcesses', JSON.stringify(allProcesses));\n  localStorage.setItem('processes', '[]');\n\n  clearTimeout(timerInterval);\n  timerInterval = null;\n\n  checkProcess();\n}\n\nfunction onShowList() {\n  document.querySelector('body').style.overflow = 'hidden';\n  refs.hideListBtn.addEventListener('click', onHideList);\n  refs.listBackdrop.classList.remove('visually-hidden');\n}\n\nfunction onHideList() {\n  document.querySelector('body').style.overflow = 'visible';\n  refs.listBackdrop.classList.add('visually-hidden');\n}\n\nfunction onDeleteTotalItem(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const id = e.target.id;\n  const data = JSON.parse(localStorage.getItem('allProcesses'));\n\n  const filteredData = data.filter(el => el.id !== id);\n  localStorage.setItem('allProcesses', JSON.stringify(filteredData));\n\n  setTimeout(() => {\n    checkProcess();\n  }, 200);\n}\n\nasync function onSend() {\n  refs.sendBackdrop.classList.remove('visually-hidden');\n  const data = JSON.parse(localStorage.getItem('allProcesses'));\n\n  const arr = [];\n\n  for (let item of data) {\n    item.items.forEach(el => arr.push(el));\n  }\n\n  const returnData = {\n    type: 'process-stop-watch',\n    items: arr,\n  };\n\n  document.querySelector('.send-btn-wrap').classList.add('visually-hidden');\n\n  try {\n    const res = await fetch(\n      'https://script.google.com/macros/s/AKfycbwQfPNpDsZK7s3qT5Jt8PBS7B2YnK_ILFqPV65fPhuc7J9jd8vJYz4g8oSnoR0GqPSE/exec',\n      {\n        method: 'POST',\n        body: JSON.stringify(returnData),\n      }\n    );\n  } catch (error) {\n    onErrorToast('Oops. Something went wrong.', '#');\n  } finally {\n    document\n      .querySelector('.send-btn-wrap')\n      .classList.remove('visually-hidden');\n    refs.sendBackdrop.classList.add('visually-hidden');\n  }\n}\n"],"names":["renderProcessesList","data","el","renderProcessesStepsList","render","convertMs","refs","renderTotalList","e","timerInterval","checkLogin","checkProcess","onProcessInputFocus","onBack","debounce","filterProcesses","onChooseProcessItem","onSaveTask","onStart","onNewStep","onStop","onSave","onShowList","onSend","showSaveBtn","onDeleteTotalItem","FirebaseApi.getProcesses","processName","val","filteredItems","process","onErrorToast","enableBtn","windowScrollHeight","savedProcesses","allProcesses","disableBtn","getName","editIcon","currentTime","renderWatch","getProcess","onEdit","startDate","log","stepIndex","time","item","nanoid","processes","onHideList","id","filteredData","arr","returnData","res"],"mappings":"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"}